(this.webpackJsonpnotflix=this.webpackJsonpnotflix||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a,s,c=n(1),r=n.n(c),i=n(31),o=n.n(i),u=(n(58),n(18)),l=n(15),j=(n(59),n(11)),h=n(0),b=function(e){var t=e.children,n=e.path;return Object(h.jsx)("li",{className:"navigation__item",children:Object(h.jsx)(u.b,{to:n,className:"navigation__link",children:t})})},d=(n(65),function(){var e=Object(j.c)((function(e){return e.user._id})),t=Object(j.c)((function(e){return e.isLoggedIn}));return Object(h.jsx)("header",{className:"navigation",children:Object(h.jsxs)("nav",{className:"navigation__nav",children:[Object(h.jsx)(u.b,{to:"/",className:"navigation__logo",children:Object(h.jsx)("img",{src:"../assets/logoheader.svg",alt:"Notflix logo"})}),Object(h.jsxs)("ul",{className:"navigation__list",children:[Object(h.jsx)(b,{path:"/",children:"HOME"}),Object(h.jsx)(b,{path:"/shows",children:"SHOWS"}),Object(h.jsx)(b,{path:"/friends",children:"FRIENDS"}),t?Object(h.jsx)(b,{path:"/library/".concat(e),children:"LIBRARY"}):"",Object(h.jsx)(b,{path:"/profile",children:"PROFILE"})]}),Object(h.jsxs)("div",{className:"navigation__utilities",children:[Object(h.jsx)(u.b,{to:"/search",className:"navigation__search",children:Object(h.jsx)("img",{className:"navigation__search-icon",src:"../assets/search.svg",alt:"Magnifying glass"})}),Object(h.jsx)(u.b,{to:"/signin",children:Object(h.jsx)("button",{className:"btn btn-primary btn--dark-grey",children:"Sign In"})})]})]})})}),f=n(6),O=(n(66),function(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)("main",{className:"main",children:Object(h.jsxs)("section",{className:"home",children:[Object(h.jsxs)("article",{className:"home__cta",style:{backgroundImage:"url('./assets/bg.jpeg')"},children:[Object(h.jsx)("h2",{className:"heading-secondary heading-secondary--light u-margin-bottom-small",children:"Unlimited movies, TV, shows and more"}),Object(h.jsx)("p",{className:"subheading subheading--light u-margin-bottom",children:"Watch anywhere. Cancel anytime"}),Object(h.jsxs)("form",{className:"home__form",children:[Object(h.jsx)("label",{htmlFor:"emailInputEl",className:"home__label",children:"Ready to watch? Enter your email:"}),Object(h.jsxs)("span",{className:"home__input-group",children:[Object(h.jsx)("input",{type:"email",className:"home__input",id:"emailInputEl",onChange:function(e){return a(e.target.value)},placeholder:"Email Address"}),Object(h.jsx)(u.b,{to:"/signin/".concat(n),children:Object(h.jsx)("button",{className:"btn btn--form",children:"Sign Up"})})]}),Object(h.jsx)("p",{className:"home__sublabel",children:"Entering your email will create or restart your membership"})]})]}),Object(h.jsx)("img",{className:"home__img",src:"./assets/notflix.svg",alt:"Girl holding Netflix logo"})]})})}),p=n(14),m=n(16),g=["Nature","Family","Children","Food","Sports","Travel","History","Legal","Medical","War","Action","Comedy","Crime","Drama","Espionage","Music","Romance"];!function(e){e.NATURE="Nature",e.FAMILY="Family",e.CHILDREN="Children",e.FOOD="Food",e.SPORTS="Sports",e.TRAVEL="Travel",e.HISTORY="History",e.LEGAL="Legal",e.MEDICAL="Medical",e.WAR="War",e.ACTION="Action",e.COMEDY="Comedy",e.CRIME="Crime",e.DRAMA="Drama",e.ESPIONAGE="Espionage",e.MUSIC="Music",e.ROMANCE="Romance"}(a||(a={})),function(e){e.MONDAY="Monday",e.TUESDAY="Tuesday",e.WEDNESDAY="Wednesday",e.THURSDAY="Thursday",e.FRIDAY="Friday"}(s||(s={}));var x=n(51),w=(n(67),function(e){var t=e.showInfo,n=e.showSetter,a=e.showIdSetter;return t.image?Object(h.jsx)("div",{className:"shows__card",onClick:function(){n(t),a(t.id)},children:Object(h.jsx)(x.LazyLoadImage,{effect:"blur",className:"shows__card-img",src:t.image.original,alt:"".concat(t.id)})}):Object(h.jsx)("div",{className:"shows__card",children:"No poster for this show"})}),_=n(3),v=n.n(_),S=n(7),N=n(52),y=n(17),E=function(e){return{type:"SAVE_USER_DATA",payload:e}},A=function(e){return{type:"ADD_SHOW_TO_FAVORITES",payload:{showId:e}}},I=n(53),C=n(5),k=Object(I.a)({apiKey:"AIzaSyB9wHkjF-SHSzkvV-KlZSn9BTQfKRIvG_Q",authDomain:"notflix-4e943.firebaseapp.com",projectId:"notflix-4e943",storageBucket:"notflix-4e943.appspot.com",messagingSenderId:"493311376378",appId:"1:493311376378:web:8b70b2a44853e52da3c243",measurementId:"G-CWYEBERVR4"}),R=Object(C.h)(k);function L(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(S.a)(v.a.mark((function e(t,n,a){var s,c,r,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(C.d)(t,"users"),c=Object(C.j)(s,Object(C.m)("email","==",n),Object(C.m)("password","==",a)),e.next=4,Object(C.g)(c);case 4:if(r=e.sent,i=null,!r.empty){e.next=12;break}return e.next=9,Object(C.a)(s,{email:n,password:a});case 9:i=e.sent,e.next=14;break;case 12:o=Object(f.a)(r.docs,1),u=o[0],i=u.ref;case 14:return e.next=16,Object(C.f)(i);case 16:return l=e.sent,e.abrupt("return",Object(y.a)({_id:i.id},l.data()));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return M.apply(this,arguments)}function M(){return(M=Object(S.a)(v.a.mark((function e(t,n,a){var s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t,n,a);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(v.a.mark((function e(t,n,a){var s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(C.e)(t,"users",n),e.next=3,Object(C.l)(s,{favorites:Object(C.c)(a)});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return H.apply(this,arguments)}function H(){return(H=Object(S.a)(v.a.mark((function e(t,n){var a,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(t,"shows","".concat(n)),e.next=3,Object(C.f)(a);case 3:if(!(s=e.sent).exists()){e.next=6;break}return e.abrupt("return",s.data().likeQuantity);case 6:return c=0,e.next=9,Object(C.k)(a,{likeQuantity:c});case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return V.apply(this,arguments)}function V(){return(V=Object(S.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(t,"shows","".concat(n)),e.next=3,Object(C.l)(a,{likeQuantity:Object(C.i)(1)});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return G.apply(this,arguments)}function G(){return(G=Object(S.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(t,"users","".concat(n._id)),e.next=3,Object(C.l)(a,{email:n.email,password:n.password,age:n.age,username:n.username});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(v.a.mark((function e(t,n){var a,s,c,r,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.d)(t,"users"),s=Object(C.j)(a,Object(C.m)("email","==",n.trim())),c=Object(C.j)(a,Object(C.m)("username","==",n.trim())),e.next=5,Object(C.g)(s);case 5:return r=e.sent,e.next=8,Object(C.g)(c);case 8:return i=e.sent,o=r.docs.map((function(e){return Object(y.a)(Object(y.a)({},e.data()),{},{_id:e.id})})),u=i.docs.map((function(e){return Object(y.a)(Object(y.a)({},e.data()),{},{_id:e.id})})),l=o.concat(u),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(S.a)(v.a.mark((function e(t,n,a){var s,c,r,i,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(C.e)(t,"users","".concat(n)),e.next=3,Object(C.f)(s);case 3:if((c=e.sent).data().friends){e.next=8;break}return e.next=7,Object(C.k)(s,{friends:[a]},{merge:!0});case 7:return e.abrupt("return");case 8:return e.next=10,Object(C.l)(s,{friends:Object(C.c)(a)});case 10:return r=Object(C.d)(t,"users"),i=Object(C.j)(r,Object(C.m)("email","==",a)),e.next=14,Object(C.g)(i);case 14:if(o=e.sent,u=Object(C.e)(t,"users",o.docs[0].id),!o.docs[0].data().friends){e.next=20;break}return e.next=19,Object(C.k)(u,{friends:[c.data().email]},{merge:!0});case 19:return e.abrupt("return");case 20:return e.next=22,Object(C.l)(u,{friends:Object(C.c)(c.data().email)});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n,a){return J.apply(this,arguments)}function J(){return(J=Object(S.a)(v.a.mark((function e(t,n,a,s){var c,r,i,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(C.d)(t,"users"),r=Object(C.j)(c,Object(C.m)("email","==",s)),e.next=4,Object(C.g)(r);case 4:return i=e.sent,o=Object(C.e)(t,"users",i.docs[0].id),u=Object(C.e)(t,"users",n),e.next=9,Object(C.l)(u,{friends:Object(C.b)(s)});case 9:return e.next=11,Object(C.l)(o,{friends:Object(C.b)(a)});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(S.a)(v.a.mark((function e(t,n){var a,s,c,r,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(t,"users","".concat(n)),e.next=3,Object(C.f)(a);case 3:if(s=e.sent,c=Object(C.d)(t,"users"),r=[],i=s.data().friends){e.next=9;break}return e.abrupt("return",[]);case 9:o=0;case 10:if(!(o<i.length)){e.next=19;break}return u=Object(C.j)(c,Object(C.m)("email","in",i.slice(o,o+10))),e.next=14,Object(C.g)(u);case 14:l=e.sent,r.push.apply(r,Object(m.a)(l.docs));case 16:o+=10,e.next=10;break;case 19:return e.abrupt("return",r.map((function(e){return Object(y.a)(Object(y.a)({},e.data()),{},{_id:e.id})})));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(S.a)(v.a.mark((function e(t,n){var a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(t,"users","".concat(n)),e.next=3,Object(C.f)(a);case 3:return s=e.sent,e.abrupt("return",s.data().favorites||[]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){var t=e.show,n=e.showSetter,a=Object(j.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.favorites}))||[],s=Object(j.c)((function(e){return e.user._id})),r=Object(j.c)((function(e){return e.isLoggedIn})),i=Object(j.b)(),o=Object(c.useState)(!1),u=Object(f.a)(o,2),b=u[0],d=u[1],O=Object(c.useState)(0),p=Object(f.a)(O,2),m=p[0],g=p[1],x=""!==Object(l.f)().id;function w(){return(w=Object(S.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return alert("You have to sign in to leave likes"),e.abrupt("return");case 3:if(!b){e.next=6;break}return alert("You have already liked this show"),e.abrupt("return");case 6:return d(!0),i(A(t.id)),e.next=10,F(R,s,t.id);case 10:return e.next=12,W(R,t.id);case 12:g(m+1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=0;Object(S.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y(R,t.id);case 2:e=n.sent,g(e);case 4:case"end":return n.stop()}}),n)})))(),a.length>0&&d(a.some((function(e){return e===t.id})))}),[]),Object(h.jsxs)("div",{className:"shows__show",children:[Object(h.jsxs)("span",{className:"shows__show-info",children:[Object(h.jsx)("h3",{className:"subheading u-margin-bottom-small",children:t.name}),Object(h.jsx)("span",{className:"shows__show-descr",children:Object(N.a)(t.summary)}),Object(h.jsxs)("div",{className:"shows__info-group",children:[Object(h.jsx)("img",{className:"shows__like-img",src:x?"../assets/".concat(b?"Like":"NoLike",".svg"):"./assets/".concat(b?"Like":"NoLike",".svg"),alt:"Heart",onClick:function(e){return function(e){return w.apply(this,arguments)}(e)}}),Object(h.jsx)("span",{className:"shows__like-quantity",children:m}),Object(h.jsxs)("span",{className:"shows__categories",children:[t.genres.slice(0,t.genres.length-1).reduce((function(e,t){return e+t+", "}),"")," ",t.genres[t.genres.length-1]]})]}),Object(h.jsx)("div",{className:"shows__btn-group",children:Object(h.jsx)("button",{className:"btn btn--form u-margin-right-small",onClick:function(){return alert("Loading WannaCry to your machine")},children:"Play"})}),Object(h.jsx)("img",{onClick:function(){n(0)},className:"shows__show-close",src:x?"../assets/cross.svg":"./assets/cross.svg",alt:"Close"})]}),Object(h.jsx)("img",{className:"shows__show-img",src:t.image.original,alt:t.name})]})},ne=function(e){var t=e.showCollection,n=e.title,a=Object(c.useState)([]),s=Object(f.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(0),u=Object(f.a)(o,2),l=u[0],j=u[1],b=Object(c.useState)({}),d=Object(f.a)(b,2),O=d[0],p=d[1],x=Object(c.useState)(10),_=Object(f.a)(x,2),v=_[0],S=_[1],N=Object(c.useState)(2),y=Object(f.a)(N,2),E=y[0],A=y[1];return Object(c.useEffect)((function(){i(t.slice(0,v))}),[]),Object(h.jsxs)("section",{className:"shows__collection",children:[Object(h.jsx)("h3",{className:"shows__category",children:n}),Object(h.jsxs)("div",{className:"shows__cards-and-info-cont",children:[Object(h.jsx)("div",{className:"shows__show-cards",children:r.length>0?r.map((function(e){return Object(h.jsx)(w,{showInfo:e,showSetter:p,showIdSetter:j},e.id)})):"No shows available"}),O&&0!==l?Object(h.jsx)(te,{show:O,showSetter:j}):"",0===l&&r.length>0?Object(h.jsx)("button",{className:"btn btn--form u-margin-right-small u-margin-top-small",onClick:function(){var e=v+10;S(e),v>=t.length?(fetch("https://api.tvmaze.com/shows?page=".concat(E)).then((function(e){return e.json()})).then((function(e){var t=function(e){var t=[];return e.forEach((function(e){e.genres.includes(n)&&t.push(e)})),t}(e.filter((function(e){for(var t=0;t<e.genres.length;t++)if(g.includes(e.genres[t]))return e})));i([].concat(Object(m.a)(r),Object(m.a)(t)))})).catch((function(){alert("No more shows in this category!")})),A(E+1)):i(t.slice(0,e))},children:"Load more"}):""]})]})},ae=(n(48),n(80),function(){return Object(h.jsxs)("div",{className:"lds-ripple",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})}),se=function(){var e=[],t=Object(c.useState)(e),n=Object(f.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(e),o=Object(f.a)(i,2),u=o[0],l=o[1],j=Object(c.useState)(e),b=Object(f.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(e),x=Object(f.a)(m,2),w=x[0],_=x[1],v=Object(c.useState)(e),S=Object(f.a)(v,2),N=S[0],y=S[1],E=Object(c.useState)(e),A=Object(f.a)(E,2),I=A[0],C=A[1],k=Object(c.useState)(e),R=Object(f.a)(k,2),L=R[0],D=R[1],T=Object(c.useState)(e),M=Object(f.a)(T,2),F=M[0],U=M[1],Y=Object(c.useState)(e),H=Object(f.a)(Y,2),W=H[0],V=H[1],P=Object(c.useState)(e),G=Object(f.a)(P,2),z=G[0],B=G[1],Q=Object(c.useState)(e),q=Object(f.a)(Q,2),K=q[0],J=q[1],X=Object(c.useState)(e),Z=Object(f.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(e),se=Object(f.a)(te,2),ce=se[0],re=se[1],ie=Object(c.useState)(e),oe=Object(f.a)(ie,2),ue=oe[0],le=oe[1],je=Object(c.useState)(e),he=Object(f.a)(je,2),be=he[0],de=he[1],fe=Object(c.useState)(e),Oe=Object(f.a)(fe,2),pe=Oe[0],me=Oe[1],ge=Object(c.useState)(e),xe=Object(f.a)(ge,2),we=xe[0],_e=xe[1],ve=[{shows:ue,genreName:a.DRAMA},{shows:s,genreName:a.NATURE},{shows:u,genreName:a.FAMILY},{shows:d,genreName:a.CHILDREN},{shows:w,genreName:a.FOOD},{shows:N,genreName:a.SPORTS},{shows:L,genreName:a.HISTORY},{shows:I,genreName:a.TRAVEL},{shows:F,genreName:a.LEGAL},{shows:W,genreName:a.MEDICAL},{shows:z,genreName:a.WAR},{shows:K,genreName:a.ACTION},{shows:$,genreName:a.COMEDY},{shows:ce,genreName:a.CRIME},{shows:be,genreName:a.ESPIONAGE},{shows:pe,genreName:a.MUSIC},{shows:we,genreName:a.ROMANCE}];return Object(c.useEffect)((function(){fetch("https://api.tvmaze.com/shows?page=".concat(1)).then((function(e){return e.json()})).then((function(e){!function(e){var t={localNatureShows:[],localFamilyShows:[],localChildrenShows:[],localFoodShows:[],localSportsShows:[],localTravelShows:[],localHistoryShows:[],localLegalShows:[],localMedicalShows:[],localWarShows:[],localActionShows:[],localComedyShows:[],localCrimeShows:[],localDramaShows:[],localEspionageShows:[],localMusicShows:[],localRomanceShows:[]};e.forEach((function(e){var n,s=Object(p.a)(e.genres);try{for(s.s();!(n=s.n()).done;){var c=n.value;c===a.NATURE?t.localNatureShows.push(e):c===a.FAMILY?t.localFamilyShows.push(e):c===a.CHILDREN?t.localChildrenShows.push(e):c===a.FOOD?t.localFoodShows.push(e):c===a.SPORTS?t.localSportsShows.push(e):c===a.TRAVEL?t.localTravelShows.push(e):c===a.HISTORY?t.localHistoryShows.push(e):c===a.LEGAL?t.localLegalShows.push(e):c===a.MEDICAL?t.localMedicalShows.push(e):c===a.WAR?t.localWarShows.push(e):c===a.ACTION?t.localActionShows.push(e):c===a.COMEDY?t.localComedyShows.push(e):c===a.CRIME?t.localCrimeShows.push(e):c===a.DRAMA?t.localDramaShows.push(e):c===a.ESPIONAGE?t.localEspionageShows.push(e):c===a.MUSIC?t.localMusicShows.push(e):c===a.ROMANCE&&t.localRomanceShows.push(e)}}catch(r){s.e(r)}finally{s.f()}})),r(t.localNatureShows),l(t.localFamilyShows),O(t.localChildrenShows),_(t.localFoodShows),y(t.localSportsShows),C(t.localTravelShows),D(t.localHistoryShows),U(t.localLegalShows),V(t.localMedicalShows),B(t.localWarShows),J(t.localActionShows),ee(t.localComedyShows),re(t.localCrimeShows),le(t.localDramaShows),de(t.localEspionageShows),me(t.localMusicShows),_e(t.localRomanceShows)}(e.filter((function(e){for(var t=0;t<e.genres.length;t++)if(g.includes(e.genres[t]))return e})))}))}),[]),Object(h.jsxs)("main",{className:"shows",children:[Object(h.jsx)("div",{className:"shows__hero",style:{backgroundImage:"url('./assets/bg.jpeg')"},children:"\xa0"}),Object(h.jsx)("article",{className:"shows__collections",children:0!==ve.length?ve.map((function(e,t){return 0!==e.shows.length?Object(h.jsx)(ne,{title:e.genreName,showCollection:e.shows},t):""})):Object(h.jsx)(ae,{})})]})},ce=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(f.a)(s,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){a(function(){for(var e=8,t=new Array(e),n=0;n<e;n++)t[n]=new Array(e);for(var a=0;a<e;a++)for(var s=0;s<e/2;s++){var c=Math.round(Math.random());t[a][s]=c,t[a][e-s-1]=c}return t}()),o("#"+Math.floor(16777215*Math.random()).toString(16))}),[]),Object(h.jsx)("div",{className:"friends__avatar",children:n.map((function(e,t){return Object(h.jsx)("span",{className:"friends__avatar-row",children:e.map((function(e,t){return Object(h.jsx)("span",{className:"friends__avatar-square",style:{backgroundColor:1===e?i:"#eee"},children:"\xa0"},t)}))},t)}))})},re=function(e){var t=e.user,n=e.isFriend,a=e.setFriends,s=e.friends,c=Object(j.c)((function(e){return e.user._id})),r=Object(j.c)((function(e){return e.user.email})),i=Object(l.e)();function o(){return(o=Object(S.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={_id:t._id,email:t.email,username:t.username,age:t.age},a([].concat(Object(m.a)(s),[n])),e.next=4,Q(R,c,t.email);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(S.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this friend?")){e.next=5;break}return n=s.findIndex((function(e){return e._id===t._id})),a([].concat(Object(m.a)(s.slice(0,n)),Object(m.a)(s.slice(n+1,s.length)))),e.next=5,K(R,c,r,t.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"friends__friend u-margin-bottom",children:[Object(h.jsxs)("div",{className:"friends__friend-group",children:[Object(h.jsx)(ce,{}),Object(h.jsxs)("div",{className:"friends__friend-info",children:[Object(h.jsx)("p",{className:"subheading",children:t.username||t.email}),t.username?Object(h.jsx)("p",{className:"friends__par",children:t.email}):"",t.age?Object(h.jsxs)("p",{className:"friends__par",children:["Age: ",t.age]}):""]})]}),n?Object(h.jsxs)("span",{className:"btn-sliding-cont",children:[Object(h.jsx)("span",{className:"btn btn-sliding btn--purple",onClick:function(){i.push("/library/".concat(t._id))},children:"View gallery"}),Object(h.jsx)("span",{className:"btn btn-sliding btn--red",onClick:function(){return function(){return u.apply(this,arguments)}()},children:"Remove"})]}):Object(h.jsx)("span",{className:"btn btn-sliding btn--green",onClick:function(){return function(){return o.apply(this,arguments)}()},children:"Add"})]})},ie=function(e){var t=e.users,n=e.isFriendsList,a=e.setFriends,s=e.friends;return Object(h.jsx)("section",{className:"friends__list",children:t.length>0?t.map((function(e){return Object(h.jsx)(re,{user:e,isFriend:n,setFriends:a,friends:s},e.email)})):"You have no friends yet. Add them, so you can see them here"})},oe=(n(81),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(f.a)(s,2),i=r[0],o=r[1],u=Object(c.useState)(""),l=Object(f.a)(u,2),b=l[0],d=l[1],O=Object(c.useState)(!1),p=Object(f.a)(O,2),m=p[0],g=p[1],x=Object(j.c)((function(e){return e.isLoggedIn})),w=Object(j.c)((function(e){return e.user._id}));function _(){return(_=Object(S.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(R,b);case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){e.preventDefault(),g(!0),function(){_.apply(this,arguments)}()}return Object(c.useEffect)((function(){x&&Object(S.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(R,w);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(h.jsxs)("main",{className:"friends",children:[x?Object(h.jsxs)("article",{className:"friends__section",children:[Object(h.jsx)("h2",{className:"heading-secondary",children:"Search for new friends"}),Object(h.jsxs)("form",{className:"friends__search-group",children:[Object(h.jsx)("input",{className:"friends__input",placeholder:"Email Address or User Name",type:"text",onChange:function(e){d(e.target.value),""===e.target.value&&g(!1)}}),Object(h.jsx)("button",{onClick:function(e){return N(e)},className:"btn btn--form",children:"Search"})]}),Object(h.jsx)("h2",{className:"heading-secondary",children:m?"Search results":"My friends"}),m?Object(h.jsx)(ie,{users:n,friends:i,isFriendsList:!1,setFriends:o}):Object(h.jsx)(ie,{users:i,friends:i,isFriendsList:!0,setFriends:o})]}):Object(h.jsx)("h2",{className:"heading-secondary",children:"Sign In to view your friends list"}),Object(h.jsx)("img",{className:"friends__img",src:"./assets/addFriends.svg",alt:"Social media friends"})]})}),ue=function(){var e=Object(j.c)((function(e){return e.isLoggedIn})),t=Object(j.c)((function(e){return e.user.favorites})),n=Object(j.c)((function(e){return e.user._id})),a=Object(l.f)().id,s=Object(c.useState)([]),r=Object(f.a)(s,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){n===a?Object(S.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){var t="https://api.tvmaze.com/shows/".concat(e);return fetch(t).then((function(e){return e.json()}))})));case 2:n=e.sent,a=n,o(Object(m.a)(a));case 5:case"end":return e.stop()}}),e)})))():Object(S.a)(v.a.mark((function e(){var t,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(R,a);case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){var t="https://api.tvmaze.com/shows/".concat(e);return fetch(t).then((function(e){return e.json()}))})));case 5:n=e.sent,s=n,o(Object(m.a)(s));case 8:case"end":return e.stop()}}),e)})))()}),[a]),Object(h.jsx)("main",{className:"shows",children:e?Object(h.jsx)("article",{className:"shows__collections",children:i.length>0?Object(h.jsx)(ne,{title:"Your favorites",showCollection:i}):Object(h.jsx)("h2",{className:"heading-secondary",children:"There are no shows in this library"})}):Object(h.jsx)("h2",{className:"heading-secondary",children:"Sign In to view your library"})})},le=(n(49),function(){var e=Object(j.c)((function(e){return e.isLoggedIn})),t=Object(j.c)((function(e){return e.user._id})),n=Object(j.c)((function(e){return e.user.email})),a=Object(j.c)((function(e){return e.user.password})),s=Object(j.c)((function(e){return e.user.username})),r=Object(j.c)((function(e){return e.user.age})),i=Object(j.b)(),o=Object(c.useState)(""),l=Object(f.a)(o,2),b=l[0],d=l[1],O=Object(c.useState)(""),p=Object(f.a)(O,2),m=p[0],g=p[1],x=Object(c.useState)(""),w=Object(f.a)(x,2),_=w[0],N=w[1],E=Object(c.useState)(""),A=Object(f.a)(E,2),I=A[0],C=A[1];function k(e){e.preventDefault();var n={_id:t,email:b,password:m,username:_,age:+I};Object(S.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(R,n);case 2:case"end":return e.stop()}}),e)})))(),i(function(e){return{type:"SET_NEW_USER_DATA",payload:Object(y.a)({},e)}}(n))}return Object(c.useEffect)((function(){d(n),g(a),C(r),N(s)}),[]),Object(h.jsx)("main",{className:"profile",style:{backgroundImage:"url('./assets/bg.jpeg')"},children:Object(h.jsx)("div",{className:"profile__bg-corrector",children:e?Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsx)("h2",{className:"profile__heading",children:"Edit Profile Info"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"Email Address",type:"email",defaultValue:b,onChange:function(e){return d(e.target.value)}}),Object(h.jsx)("input",{className:"profile__input",placeholder:"Password",type:"password",defaultValue:m,onChange:function(e){return g(e.target.value)}}),Object(h.jsx)("input",{className:"profile__input",placeholder:"User Name",type:"text",defaultValue:_,onChange:function(e){return N(e.target.value)}}),Object(h.jsx)("input",{className:"profile__input",placeholder:"Age",type:"number",defaultValue:I,onChange:function(e){return C(e.target.value)}}),Object(h.jsx)("button",{className:"profile__button",onClick:function(e){return k(e)},children:"Submit"})]}):Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsx)("h2",{className:"profile__heading",children:"Sign in to view your profile"}),Object(h.jsx)(u.b,{to:"/signin",children:Object(h.jsx)("button",{className:"profile__button",children:"Sign In"})})]})})})}),je=function(e){var t=e.match,n=Object(c.useState)(""),a=Object(f.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),o=Object(f.a)(i,2),u=o[0],b=o[1],d=Object(j.c)((function(e){return e.isLoggedIn})),O=Object(l.e)(),p=Object(j.b)();function m(){return(m=Object(S.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,T(R,s,u);case 3:n=e.sent,p({type:"SING_IN"}),p(E(n)),O.push("/shows");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){r(t.params.email||"")}),[]),Object(h.jsx)("main",{className:"profile",style:{backgroundImage:""===s?"url('./assets/bg.jpeg')":"url('../assets/bg.jpeg')"},children:Object(h.jsx)("div",{className:"profile__bg-corrector",children:d?Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsx)("h2",{className:"profile__heading",children:"You are signed in"}),Object(h.jsx)("button",{className:"profile__button",onClick:function(e){return function(e){e.preventDefault(),p({type:"CLEAR_USER_DATA"}),p({type:"SIGN_OUT"}),O.push("/")}(e)},children:"Sign Out"})]}):Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsx)("h2",{className:"profile__heading",children:"Sign In"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"Email Address",type:"text",defaultValue:s||"",onChange:function(e){return r(e.target.value)}}),Object(h.jsx)("input",{className:"profile__input",placeholder:"Password",type:"password",onChange:function(e){return b(e.target.value)}}),Object(h.jsx)("button",{className:"profile__button",onClick:function(e){return function(e){return m.apply(this,arguments)}(e)},children:"Sign In"})]})})})},he=(n(82),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(f.a)(s,2),i=r[0],o=r[1];function u(){return(u=Object(S.a)(v.a.mark((function e(t){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(i));case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,a(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("main",{className:"search",children:[Object(h.jsx)("h2",{className:"heading-secondary u-margin-bottom-small",children:"Search for shows"}),Object(h.jsxs)("form",{className:"search__search-group u-margin-bottom",children:[Object(h.jsx)("input",{className:"search__input",placeholder:"Show name",type:"text",onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("button",{className:"btn btn--form",onClick:function(e){return function(e){return u.apply(this,arguments)}(e)},children:"Search"})]}),n.length>0?Object(h.jsx)(ne,{title:"Search results",showCollection:n.map((function(e){return e.show}))}):""]})});var be=function(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(d,{}),Object(h.jsx)(l.a,{path:"/library/:id",component:ue,exact:!0}),Object(h.jsx)(l.a,{path:"/signin/:email",component:je,exact:!0}),Object(h.jsx)(l.a,{path:"/search",component:he,exact:!0}),Object(h.jsx)(l.a,{path:"/signin",component:je,exact:!0}),Object(h.jsx)(l.a,{path:"/profile",component:le,exact:!0}),Object(h.jsx)(l.a,{path:"/friends",component:oe,exact:!0}),Object(h.jsx)(l.a,{path:"/shows",component:se,exact:!0}),Object(h.jsx)(l.a,{path:"/",component:O,exact:!0})]})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))},fe=n(35),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SING_IN":case"SIGN_OUT":return!e;default:return e}},pe={_id:"",email:"",password:"",username:"",age:0},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_DATA":return Object(y.a)(Object(y.a)({},e),t.payload);case"CLEAR_USER_DATA":return{};case"ADD_SHOW_TO_FAVORITES":var n=Object(y.a)({},e);return n.favorites||(n.favorites=[]),n.favorites.push(t.payload.showId),n;case"SET_NEW_USER_DATA":return Object(y.a)(Object(y.a)({},e),t.payload);case"SET_FRIENDS":return Object(y.a)(Object(y.a)({},e),{},{friends:t.payload});default:return e}},ge=Object(fe.a)({isLoggedIn:Oe,user:me}),xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.b,we=Object(fe.c)(ge,xe());o.a.render(Object(h.jsx)(j.a,{store:we,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(be,{})})}),document.getElementById("root")),de()}},[[83,1,2]]]);
//# sourceMappingURL=main.de215360.chunk.js.map